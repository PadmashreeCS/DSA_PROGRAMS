#include <stdio.h>
#define SIZE 10

int pq[SIZE];
int front = -1, rear = -1;

/* Insert element in ascending order */
void insert(int x)
{
    int i;

    if (rear == SIZE - 1)
    {
        printf("Priority Queue Overflow\n");
        return;
    }

    if (front == -1)   // first insertion
    {
        front = rear = 0;
        pq[rear] = x;
    }
    else
    {
        i = rear;
        while (i >= front && pq[i] > x)
        {
            pq[i + 1] = pq[i];
            i--;
        }
        pq[i + 1] = x;
        rear++;
    }

    printf("Inserted %d\n", x);
}

/* Delete element with highest priority (smallest value) */
void delete()
{
    if (front == -1)
    {
        printf("Priority Queue Underflow\n");
        return;
    }

    printf("Deleted element: %d\n", pq[front]);

    if (front == rear)
        front = rear = -1;
    else
        front++;
}

/* Display queue */
void display()
{
    int i;

    if (front == -1)
    {
        printf("Priority Queue is Empty\n");
        return;
    }

    printf("Priority Queue: ");
    for (i = front; i <= rear; i++)
        printf("%d ", pq[i]);
    printf("\n");
}

int main()
{
    insert(30);
    insert(10);
    insert(50);
    insert(20);

    display();

    delete();
    display();

    return 0;
}
