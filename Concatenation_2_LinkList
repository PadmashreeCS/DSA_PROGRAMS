#include <stdio.h>
#include <stdlib.h>

struct node 
{
    int data;
    struct node *next;
};

struct node *head1 = NULL, *head2 = NULL;
struct node *temp, *newnode;

// Insert at end (uses global head)
void insertAtEnd(struct node **head) 
{
    newnode = (struct node *)malloc(sizeof(struct node));
    if (newnode == NULL) 
    {
        printf("Memory allocation failed!\n");
        return;
    }

    printf("Enter data: ");
    scanf("%d", &newnode->data);
    newnode->next = NULL;

    // If list is empty
    if (*head == NULL) 
    {
        *head = newnode;        // Directly update global head
    } 
    else 
    {
        temp = *head;
        while (temp->next != NULL)
        {
            temp = temp->next;
        }
        temp->next = newnode;
    }
}

// Concatenate (using global heads)
void concatenate()
{
    if (head1 == NULL)
    {
        head1 = head2;
        return;
    }
    if (head2 == NULL)
    {
        return;
    }

    temp = head1;
    while (temp->next != NULL)
    {
        temp = temp->next;
    }
    temp->next = head2;

    printf("\nLists concatenated successfully!\n");
}

void display(struct node *head) 
{
    temp = head;
    while (temp != NULL)
    {
        printf("%d ", temp->data);
        temp = temp->next;
    }
    printf("\n");
}

int main()
{
    int n, i;

    printf("\n--- Insert elements in List 1 ---\n");
    printf("How many nodes in List 1? ");
    scanf("%d", &n);
    for(i = 0; i < n; i++)
        insertAtEnd(&head1); // we are passing an address because, inside method it will become local variable, we con't change the grobal variable so we need to use pointer to pointer
                            // pointer to pointer because head is already a pointer . we are passing this pointer and modifying the value so need other pointers

    printf("\n--- Insert elements in List 2 ---\n");
    printf("How many nodes in List 2? ");
    scanf("%d", &n);
    for(i = 0; i < n; i++)
        insertAtEnd(&head2);

    printf("\nList 1: ");
    display(head1); // here we are just passing the parameter, we are not modifying in the varaible inside the  method. 

    printf("List 2: ");
    display(head2);

    concatenate();

    printf("\nAfter Concatenation (List1 + List2): ");
    display(head1);

    return 0;
}
