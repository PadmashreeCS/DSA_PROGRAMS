#include <stdio.h>
#include <stdlib.h>

struct node 
{
    int data;
    struct node *next;
};

struct node* createNode(int value) {
    struct node* newNode = (struct node*)malloc(sizeof(struct node));
    newNode->data = value;
    newNode->next = NULL;
    return newNode;
}

// Insert at end
struct node* insertEnd(struct node* head, int value) 
{
    struct node* newNode;
    newNode = (struct node*)malloc(sizeof(struct node));
    newNode->data = value;
    newNode->next = NULL;
    

    if (head == NULL) 
    {
        return newNode;  // we are assigning head=NULL in main if we say head = newnode, it will not get modify in other funcation. 
                        // his only changes the local copy of head. The global head1 does NOT change.
    }

    struct node* temp = head;
    while (temp->next != NULL) 
    {
        temp = temp->next;
    }
    temp->next = newNode;

    return head;
}

// Concatenate
struct node* concatenate(struct node* head1, struct node* head2) {
    if (head1 == NULL) return head2;
    if (head2 == NULL) return head1;

    struct node* temp = head1;
    while (temp->next != NULL) {
        temp = temp->next;
    }
    temp->next = head2;

    return head1;
}

void display(struct node* head) {
    struct node* temp = head;
    while (temp != NULL) {
        printf("%d ", temp->data);
        temp = temp->next;
    }
    printf("\n");
}

int main() 
{
    struct node *head1 = NULL, *head2 = NULL;

    head1 = insertEnd(head1, 10);
    head1 = insertEnd(head1, 20);
    head1 = insertEnd(head1, 30);

    head2 = insertEnd(head2, 40);
    head2 = insertEnd(head2, 50);

    printf("List 1: ");
    display(head1);

    printf("List 2: ");
    display(head2);

    // Concatenate now
    head1 = concatenate(head1, head2);

    printf("After Concatenation: ");
    display(head1);

    return 0;
}
